<style>
  details.pl-hidden-hint {
    background-color: rgba(0,0,0,0);
}
</style>

<pl-question-panel>
<p><iframe id="kmsembed-1_7djw9eno" class="kmsembed" style="width: 25vh;" title="Kaltura Player" src="https://mediaspace.illinois.edu/embed/secure/iframe/entryId/1_7djw9eno/uiConfId/26883701/pbc/99753341" sandbox="allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" allowfullscreen="allowfullscreen" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allow="autoplay *; fullscreen *; encrypted-media *"></iframe></p>
<pl-hidden-hints>
  <pl-hint hint-name="Example Bug Finding Using Waveform Viewer">
<pl-template directory="clientFilesCourse" file-name="tutorials/verilog_bugs/waveform_bugs.html" log-tag-warnings="false"></pl-template>
  </pl-hint>
  <pl-hint hint-name="Waveform Viewer Tutorial">
    <pl-template directory="clientFilesCourse" file-name="waveform_viewer.html" log-tag-warnings="false"></pl-template>
  </pl-hint>
</pl-hidden-hints>

<h4>Finding Bugs with the Waveform Viewer</h4>
<p>In this question you will be given a <code>.vcd</code> file that can be used to view a waveform generated by some Verilog code. The Verilog file was written with the goal of implementing the Boolean expression below using the sum-of-products technique. However, the Verilog file that created the <code>.vcd</code> file has a random bug in one of the product terms that you need to find. Your job in this problem will be to look at only the waveform viewer to determine which product term has the bug.</p>

<pl-code language="text">
f(a,b,c,d) = {{params.expression}}
</pl-code>

<p>You may assume the Verilog code</p>
<ul>
    <li>calls NOT gate outputs things like <code>not_a</code></li>
    <li>uses 1 AND gate per product term</li>
    <li>calls AND gate outputs things like <code>out_a1</code>
    <li>uses 1 OR gate to combine the outputs of all AND gates</li>
    <li>outputs the OR gate to the module output <code>out</code></li>
</ul>

<p>In your workspace, you will need to click on the <code>.vcd</code> file to open the waveform viewer. Add some signals to the waveform viewer so that you can inspect what the circuit actually did.</p>

<h4>Workspace</h4>

  <pl-workspace></pl-workspace>

</pl-question-panel>

<p>Which product term has the bug?</p>
<pl-multiple-choice answers-name="error" weight="1" fixed-order="true">
  <pl-answer correct="{{{params.bug1}}}">{{params.prod1}}</pl-answer>
  <pl-answer correct="{{{params.bug2}}}">{{params.prod2}}</pl-answer>
  <pl-answer correct="{{{params.bug3}}}">{{params.prod3}}</pl-answer>
  <pl-answer correct="{{{params.bug4}}}">{{params.prod4}}</pl-answer>
</pl-multiple-choice>

<pl-answer-panel>
<p>Adding signals a, b, c, and d to the waveform viewer will help you keep track of which product terms is currently being evaluated (i.e., abcd==0000 lets you check whether the output of the product term a'b'c'd' is 0 or 1). Given the Boolean expression, you will especially want to check the output of the circuit or the AND gates when abcd=={{{params.feedback}}}. If the output of the circuit is not 1 for one of those combinations, you know that that combination is bugged.
</p>
</pl-answer-panel>