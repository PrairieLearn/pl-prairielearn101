<script>
  $(document).ready(function() {

    var maxChar = 150;

    // Get the input element with class pl-string-input-input
    var $inputElement = $('.pl-string-input-input');

    // Change it to a text area but keep the same class
    $inputElement.replaceWith('<textarea id="textArea" name="result" class="form-control pl-string-input-input" rows="3" aria-describedby="basic-addon1" placeholder="Provide a high-level description of the code here (255 character limit)" maxlength="' + maxChar + '"></textarea>');
    
    const textArea = document.getElementById('textArea');
    const charCount = document.getElementById('charCount');
    textArea.addEventListener('input', () => {
      const count = textArea.value.length;
      charCount.textContent = `Character count: ${count}/${maxChar}`;
    });

    var $userOutput = $('.user-output');
    $userOutput.css('white-space', 'pre-wrap');

  });
</script>


<pl-question-panel>

  <h3>Explain in Plain <strike>English</strike> <b>Language</b> (EiPL)</h3>

  <p> 
    <i>
      Write a short, high-level description of the following
      function. Do not give a line-by-line description of the code.
    </i>
  </p>

  <ul>
      <li><b>Spanish: </b>Obtiene la posición del último cero a la derecha en una lista de números</li>
  </ul>


<pl-code 
  language="c"
  prevent-select="true">
int foo(int values[], int length){

    int x = -1;
    for (int i = 0; i < length; i++) {
        if (values[i] == 0) {
            x = i;
        }
    }

    return x;
}
</pl-code>

<p>
  <b>Note:</b> The code generated by the AI model, based on your description,
  does not need to be identical to the code presented above. It simply needs to
  be functionally equivalent, but it may use a different approach.
</p>


</pl-question-panel>

<pl-string-input answers-name=result display="block" label="Create a function foo that..."></pl-string-input>
<div id="charCount" class="text-right" style="margin-top: 10px;">Character Count: 0/150</div>


<pl-submission-panel>
  <pl-external-grader-results></pl-external-grader-results>
  <pl-file-preview></pl-file-preview>
</pl-submission-panel>
